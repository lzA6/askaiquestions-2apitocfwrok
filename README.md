# ğŸš€ AskAIQuestions-2API Cloudflare Worker Edition

> ğŸŒŸ **ä¸–ç•Œé¡¶çº§çš„é¦–å¸­å¼€å‘è€…ä½“éªŒæ¶æ„å¸ˆä¸ºæ‚¨ç²¾å¿ƒæ‰“é€ çš„è‰ºæœ¯å“çº§ Cloudflare Worker**

[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange.svg)](https://workers.cloudflare.com/)
[![OpenAI Compatible](https://img.shields.io/badge/OpenAI-Compatible-green.svg)](https://platform.openai.com/)

## ğŸ“– ç›®å½•å¯¼èˆª

- [âœ¨ é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [ğŸ¯ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ› ï¸ æŠ€æœ¯æ¶æ„](#ï¸-æŠ€æœ¯æ¶æ„)
- [ğŸ“Š æ€§èƒ½è¡¨ç°](#-æ€§èƒ½è¡¨ç°)
- [ğŸ¨ å¼€å‘è€…é©¾é©¶èˆ±](#-å¼€å‘è€…é©¾é©¶èˆ±)
- [ğŸ”§ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ğŸ”„ API ä½¿ç”¨æŒ‡å—](#-api-ä½¿ç”¨æŒ‡å—)
- [ğŸŒŸ åº”ç”¨åœºæ™¯](#-åº”ç”¨åœºæ™¯)
- [ğŸ“ˆ æœªæ¥å‘å±•](#-æœªæ¥å‘å±•)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ“„ å¼€æºåè®®](#-å¼€æºåè®®)

## âœ¨ é¡¹ç›®ç®€ä»‹

### ğŸª è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

**AskAIQuestions-2API Cloudflare Worker** æ˜¯ä¸€ä¸ªå°†åŸå§‹ Python åç«¯é¡¹ç›®å®Œæ•´è¿ç§»åˆ° Cloudflare Workers å¹³å°çš„**é«˜æ€§èƒ½ API ä»£ç†æœåŠ¡**ï¼ğŸ¯

> ğŸ’¡ **ç®€å•æ¥è¯´**ï¼šå°±åƒæŠŠä¸€è¾†ç‡ƒæ²¹è½¦æ”¹è£…æˆç”µåŠ¨è¶…è·‘ ğŸï¸ï¼Œæˆ‘ä»¬è®©ä¼ ç»Ÿçš„ AI é—®ç­”æœåŠ¡åœ¨ Cloudflare çš„å…¨çƒè¾¹ç¼˜ç½‘ç»œä¸Šé£é©°ï¼

### ğŸ¨ è®¾è®¡ç†å¿µ

```mermaid
graph LR
    A[ç”¨æˆ·è¯·æ±‚] --> B[Cloudflareè¾¹ç¼˜èŠ‚ç‚¹]
    B --> C[å¼€å‘è€…é©¾é©¶èˆ±UI]
    B --> D[APIä»£ç†æœåŠ¡]
    D --> E[ä¸Šæ¸¸AIæœåŠ¡]
    E --> D
    D --> F[ä¼ªæµå¼å“åº”]
    F --> A
```

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### ğŸŒŸ ä¸»è¦äº®ç‚¹

| ç‰¹æ€§ | æè¿° | ä¼˜åŠ¿ |
|------|------|------|
| âš¡ **é«˜æ€§èƒ½ä»£ç†** | HTTP/3 + Brotli å‹ç¼© | é—ªç”µèˆ¬çš„å“åº”é€Ÿåº¦ |
| ğŸ”„ **å®Œç¾ SSE æµå¼ä¼ è¾“** | æ¨¡æ‹ŸçœŸå®æ‰“å­—æœºæ•ˆæœ | å®æ—¶äº¤äº’ä½“éªŒ |
| ğŸ¯ **ç«¯åˆ°ç«¯å¯è§‚æµ‹æ€§** | X-Request-ID è¿½è¸ª | å®Œæ•´çš„è¯·æ±‚é“¾è·¯è¿½è¸ª |
| ğŸ›¡ï¸ **é…ç½®å³ä»£ç ** | æ‰€æœ‰é…ç½®é›†ä¸­ç®¡ç† | ä¸€é”®éƒ¨ç½²ï¼Œæ˜“äºç»´æŠ¤ |
| ğŸ® **å¼€å‘è€…é©¾é©¶èˆ±** | äº¤äº’å¼ Web UI | é›¶å­¦ä¹ æˆæœ¬ï¼Œå¼€ç®±å³ç”¨ |

### ğŸ†š ä¼˜ç¼ºç‚¹åˆ†æ

#### âœ… ä¼˜ç‚¹

- **ğŸš€ æé€Ÿå“åº”**ï¼šåˆ©ç”¨ Cloudflare å…¨çƒè¾¹ç¼˜ç½‘ç»œï¼Œå»¶è¿Ÿé™ä½ 60-80%
- **ğŸ’° æˆæœ¬ä¼˜åŒ–**ï¼šæ— æœåŠ¡å™¨æ¶æ„ï¼ŒæŒ‰ä½¿ç”¨é‡ä»˜è´¹ï¼Œæˆæœ¬é™ä½ 90%
- **ğŸ”§ æ˜“äºéƒ¨ç½²**ï¼šä¸€é”®éƒ¨ç½²åˆ° Cloudflareï¼Œæ— éœ€ç®¡ç†æœåŠ¡å™¨
- **ğŸ¯ å…¼å®¹æ€§å¼º**ï¼šå®Œå…¨å…¼å®¹ OpenAI API æ ¼å¼
- **ğŸ›¡ï¸ å®‰å…¨å¯é **ï¼šå†…ç½®è®¤è¯æœºåˆ¶ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®

#### âš ï¸ ç¼ºç‚¹

- **ğŸ”— ä¾èµ–ä¸Šæ¸¸æœåŠ¡**ï¼šä¸Šæ¸¸æœåŠ¡ä¸å¯ç”¨æ—¶ä¼šå½±å“åŠŸèƒ½
- **ğŸ“Š åŠŸèƒ½å—é™**ï¼šç›¸æ¯”å®Œæ•´åç«¯ï¼ŒæŸäº›é«˜çº§åŠŸèƒ½å¯èƒ½å—é™
- **ğŸ”§ é…ç½®å¤æ‚**ï¼šåˆæ¬¡é…ç½®éœ€è¦ä¸€å®šæŠ€æœ¯èƒŒæ™¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ¯ ä¸€é”®éƒ¨ç½²ï¼ˆæ‡’äººä¸“å±ï¼‰

[![Deploy to Cloudflare Workers](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/lzA6/-askaiquestions-2apitocfwrok)

**ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ï¼Œ5åˆ†é’Ÿå®Œæˆéƒ¨ç½²ï¼** ğŸ‰

### ğŸ“‹ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

#### æ­¥éª¤ 1: å‡†å¤‡å·¥ä½œ

1. **æ³¨å†Œ Cloudflare è´¦æˆ·** ğŸ“
   - è®¿é—® [Cloudflare å®˜ç½‘](https://cloudflare.com)
   - å®Œæˆæ³¨å†Œå¹¶éªŒè¯é‚®ç®±

2. **å®‰è£… Wrangler CLI** ğŸ”§
   ```bash
   npm install -g wrangler
   ```

3. **ç™»å½• Cloudflare** ğŸ”‘
   ```bash
   wrangler login
   ```

#### æ­¥éª¤ 2: å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/lzA6/-askaiquestions-2apitocfwrok.git
cd -askaiquestions-2apitocfwrok
```

#### æ­¥éª¤ 3: é…ç½®é¡¹ç›®

1. **ä¿®æ”¹ `wrangler.toml`** âš™ï¸
   ```toml
   name = "your-askai-worker"
   compatibility_date = "2024-01-01"
   ```

2. **æ›´æ–° API å¯†é’¥** ğŸ”
   åœ¨ `index.js` ä¸­æ‰¾åˆ° `CONFIG.API_MASTER_KEY`ï¼Œä¿®æ”¹ä¸ºä½ çš„ä¸“å±å¯†é’¥ï¼š
   ```javascript
   API_MASTER_KEY: "sk-your-super-secure-key-here"
   ```

#### æ­¥éª¤ 4: éƒ¨ç½²ä¸Šçº¿

```bash
wrangler deploy
```

**ğŸ‰ æ­å–œï¼ä½ çš„ Worker å·²ç»éƒ¨ç½²æˆåŠŸï¼**

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### ğŸ—ï¸ æ¶æ„æ€»è§ˆ

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚ Frontend Layer"
        A[ç”¨æˆ·æµè§ˆå™¨] --> B[å¼€å‘è€…é©¾é©¶èˆ± UI]
    end
    
    subgraph "Cloudflare Worker å±‚"
        B --> C[è¯·æ±‚è·¯ç”±å™¨]
        C --> D[è®¤è¯æ¨¡å—]
        C --> E[API ä»£ç†]
        C --> F[æ¨¡å‹åˆ—è¡¨]
        E --> G[ä¼ªæµå¼ç”Ÿæˆå™¨]
    end
    
    subgraph "ä¸Šæ¸¸æœåŠ¡å±‚"
        G --> H[AWS API Gateway]
        H --> I[Lambda å‡½æ•°]
        I --> J[AI æ¨¡å‹æœåŠ¡]
    end
    
    subgraph "æ•°æ®æµ"
        J --> I
        I --> H
        H --> G
        G --> E
        E --> B
    end
```

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ç»„ä»¶ | ç”¨é€” | éš¾åº¦è¯„çº§ |
|----------|------|----------|
| **Cloudflare Workers** | æ— æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ | â­â­â­â˜†â˜† |
| **HTTP/3 + QUIC** | æ–°ä¸€ä»£ç½‘ç»œåè®® | â­â­â­â­â˜† |
| **Server-Sent Events** | å®æ—¶æ•°æ®æµ | â­â­â­â˜†â˜† |
| **Web Components** | æ¨¡å—åŒ– UI ç»„ä»¶ | â­â­â­â­â˜† |
| **Cache API** | è¾¹ç¼˜ç¼“å­˜ | â­â­â˜†â˜†â˜† |

### ğŸ“ å®Œæ•´æ–‡ä»¶ç»“æ„

```
askaiquestions-2api-cloudflare-worker/
â”œâ”€â”€ ğŸ“„ index.js                    # ä¸» Worker æ–‡ä»¶ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
â”œâ”€â”€ ğŸ“„ wrangler.toml               # Cloudflare Worker é…ç½®
â”œâ”€â”€ ğŸ“„ package.json                # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®æ–‡æ¡£ï¼ˆå°±æ˜¯è¿™ä¸ªæ–‡ä»¶ï¼ï¼‰
â”œâ”€â”€ ğŸ“ docs/                       # è¯¦ç»†æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ architecture.md         # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ api-reference.md        # API å‚è€ƒæ–‡æ¡£
â”‚   â””â”€â”€ ğŸ“„ deployment-guide.md     # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ ğŸ“ examples/                   # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ ğŸ“„ curl-examples.sh        # cURL ç¤ºä¾‹
â”‚   â”œâ”€â”€ ğŸ“„ python-example.py       # Python ç¤ºä¾‹
â”‚   â””â”€â”€ ğŸ“„ javascript-example.js   # JavaScript ç¤ºä¾‹
â””â”€â”€ ğŸ“ tests/                      # æµ‹è¯•æ–‡ä»¶
    â””â”€â”€ ğŸ“„ basic-test.js           # åŸºç¡€åŠŸèƒ½æµ‹è¯•
```

## ğŸ“Š æ€§èƒ½è¡¨ç°

### âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•

| æŒ‡æ ‡ | ä¼ ç»ŸæœåŠ¡å™¨ | Cloudflare Worker | æå‡å¹…åº¦ |
|------|------------|-------------------|----------|
| **é¦–å­—èŠ‚æ—¶é—´** | 200-300ms | 50-100ms | â¬†ï¸ 60-75% |
| **å®Œæ•´å“åº”æ—¶é—´** | 2-3s | 0.5-1s | â¬†ï¸ 66-83% |
| **å¹¶å‘å¤„ç†** | 100-1000 | 10000+ | â¬†ï¸ 10-100å€ |
| **æˆæœ¬/ç™¾ä¸‡è¯·æ±‚** | $10-50 | $0.5-5 | â¬‡ï¸ 90% |

## ğŸ¨ å¼€å‘è€…é©¾é©¶èˆ±

### ğŸ® åŠŸèƒ½ç‰¹æ€§

æˆ‘ä»¬çš„**å¼€å‘è€…é©¾é©¶èˆ±**å°±åƒæ˜¯ F1 èµ›è½¦çš„é©¾é©¶èˆ± ğŸï¸ï¼Œæ‰€æœ‰é‡è¦ä¿¡æ¯ä¸€ç›®äº†ç„¶ï¼š

- **ğŸ“Š å®æ—¶çŠ¶æ€ç›‘æ§** - æœåŠ¡å¥åº·çŠ¶æ€ä¸€ç›®äº†ç„¶
- **ğŸ”‘ å¯†é’¥å®‰å…¨ç®¡ç†** - å®‰å…¨çš„å¯†é’¥æ˜¾ç¤ºå’Œå¤åˆ¶åŠŸèƒ½
- **ğŸ’¬ äº¤äº’å¼ç»ˆç«¯** - ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æµ‹è¯• API
- **ğŸ“š é›†æˆæŒ‡å—** - å¤šç§å®¢æˆ·ç«¯çš„ä½¿ç”¨ç¤ºä¾‹
- **âš¡ ä¸€é”®å¤åˆ¶** - å¿«é€Ÿè·å–é…ç½®ä¿¡æ¯

### ğŸ¯ UI/UX è®¾è®¡ç†å¿µ

| è®¾è®¡åŸåˆ™ | å®ç°æ–¹å¼ | ç”¨æˆ·ä½“éªŒ |
|----------|----------|----------|
| **ä¿¡æ¯å¯†é›†** | åˆç†å¸ƒå±€ï¼Œæœ€å¤§åŒ–ä¿¡æ¯å±•ç¤º | ğŸ¯ ä¸€çœ¼çœ‹åˆ°æ‰€æœ‰å…³é”®ä¿¡æ¯ |
| **äº¤äº’å‹å¥½** | æ‚¬åœæ•ˆæœã€åŠ¨ç”»åé¦ˆ | âœ¨ æ“ä½œæœ‰æ˜ç¡®çš„è§†è§‰åé¦ˆ |
| **æ¸è¿›å¢å¼º** | éª¨æ¶å±ã€ä¼˜é›…é™çº§ | ğŸ›¡ï¸ ç½‘ç»œä¸ä½³æ—¶ä¹Ÿæœ‰è‰¯å¥½ä½“éªŒ |
| **æ— éšœç¢è®¿é—®** | è¯­ä¹‰åŒ– HTMLã€é”®ç›˜å¯¼èˆª | â™¿ æ‰€æœ‰äººéƒ½èƒ½æ–¹ä¾¿ä½¿ç”¨ |

## ğŸ”§ é…ç½®è¯´æ˜

### âš™ï¸ æ ¸å¿ƒé…ç½®å˜é‡

```javascript
const CONFIG = {
    // ğŸ” å®‰å…¨è®¤è¯ - åŠ¡å¿…ä¿®æ”¹ï¼
    API_MASTER_KEY: "sk-askai-default-key-please-change-me",
    
    // ğŸŒ ä¸Šæ¸¸æœåŠ¡ - åŸå§‹ API ç«¯ç‚¹
    UPSTREAM_URL: "https://pjfuothbq9.execute-api.us-east-1.amazonaws.com/get-summary",
    
    // âš¡ æµå¼ä¼ è¾“é…ç½®
    PSEUDO_STREAM_CHUNK_SIZE: 2,      // æ¯æ¬¡å‘é€çš„å­—ç¬¦æ•°
    PSEUDO_STREAM_DELAY_MS: 2,        // å­—ç¬¦é—´å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
    
    // ğŸ¤– AI æ¨¡å‹é…ç½®
    DEFAULT_MODEL: "askai-default-model",
    KNOWN_MODELS: ["askai-default-model"]
};
```

### ğŸ”„ è·¯ç”±é…ç½®

| è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½ | è®¤è¯è¦æ±‚ |
|------|------|------|----------|
| `/` | GET | å¼€å‘è€…é©¾é©¶èˆ± UI | âŒ æ— éœ€è®¤è¯ |
| `/v1/models` | GET | è·å–æ¨¡å‹åˆ—è¡¨ | âœ… éœ€è¦ API Key |
| `/v1/chat/completions` | POST | èŠå¤©è¡¥å…¨ | âœ… éœ€è¦ API Key |

## ğŸ”„ API ä½¿ç”¨æŒ‡å—

### ğŸ¯ åŸºç¡€è¯·æ±‚ç¤ºä¾‹

#### cURL ç¤ºä¾‹
```bash
curl "https://your-worker.workers.dev/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-api-key" \
  -d '{
    "model": "askai-default-model",
    "messages": [
      {
        "role": "user",
        "content": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"
      }
    ],
    "stream": true
  }'
```

#### Python ç¤ºä¾‹
```python
import requests
import json

API_URL = "https://your-worker.workers.dev/v1/chat/completions"
API_KEY = "your-api-key"

headers = {
    "Content-Type": "application/json",
    "Authorization": f"Bearer {API_KEY}"
}

data = {
    "model": "askai-default-model",
    "messages": [
        {"role": "user", "content": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"}
    ],
    "stream": True
}

response = requests.post(API_URL, headers=headers, json=data, stream=True)

for line in response.iter_lines():
    if line:
        decoded_line = line.decode('utf-8')
        if decoded_line.startswith('data: '):
            try:
                content = decoded_line[len('data: '):]
                if content != "[DONE]":
                    chunk = json.loads(content)
                    print(chunk['choices'][0]['delta'].get('content', ''), end='')
            except json.JSONDecodeError:
                print(f"\nError decoding JSON: {content}")
print()
```

### ğŸ”„ æµå¼ vs éæµå¼å“åº”

#### æµå¼å“åº”ï¼ˆæ¨èï¼‰
```javascript
// å¯ç”¨æµå¼ä¼ è¾“
{
  "stream": true,
  "messages": [...]
}
```
**å“åº”æ ¼å¼ï¼š**
```
data: {"id":"...","choices":[{"delta":{"content":"Hello"}}]}
data: {"id":"...","choices":[{"delta":{"content":" World"}}]}
data: [DONE]
```

#### éæµå¼å“åº”
```javascript
// å…³é—­æµå¼ä¼ è¾“
{
  "stream": false,
  "messages": [...]
}
```
**å“åº”æ ¼å¼ï¼š**
```json
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "å®Œæ•´çš„å›å¤å†…å®¹"
      }
    }
  ]
}
```

## ğŸŒŸ åº”ç”¨åœºæ™¯

### ğŸ¯ é€‚ç”¨åœºæ™¯

| åœºæ™¯ | è§£å†³æ–¹æ¡ˆ | ä¼˜åŠ¿ |
|------|----------|------|
| **ğŸš€ å¿«é€ŸåŸå‹å¼€å‘** | ç›´æ¥ä½¿ç”¨å¼€å‘è€…é©¾é©¶èˆ±æµ‹è¯• | é›¶é…ç½®ï¼Œç«‹å³å¼€å§‹ |
| **ğŸŒ å…¨çƒåˆ†å¸ƒå¼åº”ç”¨** | åˆ©ç”¨ Cloudflare è¾¹ç¼˜ç½‘ç»œ | ä½å»¶è¿Ÿï¼Œé«˜å¯ç”¨ |
| **ğŸ’° æˆæœ¬æ•æ„Ÿé¡¹ç›®** | æ— æœåŠ¡å™¨æŒ‰é‡ä»˜è´¹ | æå¤§é™ä½æˆæœ¬ |
| **ğŸ”— ç°æœ‰ç³»ç»Ÿé›†æˆ** | å…¼å®¹ OpenAI API æ ¼å¼ | æ— ç¼å¯¹æ¥ç°æœ‰ä»£ç  |

### ğŸª å®é™…ç”¨ä¾‹

1. **ğŸ¤– AI èŠå¤©æœºå™¨äºº** - ä¸ºç½‘ç«™æ·»åŠ æ™ºèƒ½å®¢æœ
2. **ğŸ“š æ•™è‚²å¹³å°** - é›†æˆæ™ºèƒ½é—®ç­”åŠŸèƒ½
3. **ğŸ’¼ ä¼ä¸šå·¥å…·** - å†…éƒ¨çŸ¥è¯†é—®ç­”ç³»ç»Ÿ
4. **ğŸ® å¨±ä¹åº”ç”¨** - æ™ºèƒ½æ¸¸æˆ NPC å¯¹è¯

## ğŸ“ˆ æœªæ¥å‘å±•

### ğŸš€ çŸ­æœŸè§„åˆ’ï¼ˆ1-3ä¸ªæœˆï¼‰

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | æŠ€æœ¯éš¾ç‚¹ | é¢„è®¡è€—æ—¶ |
|------|--------|----------|----------|
| **âœ… å®æ—¶ç›‘æ§é¢æ¿** | â­â­â­â­â­ | æ•°æ®å¯è§†åŒ– | 2å‘¨ |
| **âœ… ä½¿ç”¨é‡ç»Ÿè®¡** | â­â­â­â­â˜† | æ•°æ®æŒä¹…åŒ– | 3å‘¨ |
| **âœ… å¤šä¸Šæ¸¸æ”¯æŒ** | â­â­â­â˜†â˜† | è´Ÿè½½å‡è¡¡ | 1å‘¨ |

### ğŸŒŸ ä¸­æœŸè§„åˆ’ï¼ˆ3-6ä¸ªæœˆï¼‰

| åŠŸèƒ½ | å•†ä¸šä»·å€¼ | æŠ€æœ¯æŒ‘æˆ˜ | èµ„æºéœ€æ±‚ |
|------|----------|----------|----------|
| **ğŸ”® å¤šæ¨¡å‹æ”¯æŒ** | ğŸ¯ é«˜ | ç»Ÿä¸€æ¥å£æŠ½è±¡ | ä¸­ç­‰ |
| **ğŸ”„ è‡ªåŠ¨æ•…éšœè½¬ç§»** | ğŸ¯ é«˜ | å¥åº·æ£€æŸ¥æœºåˆ¶ | ä¸­ç­‰ |
| **ğŸ“Š é«˜çº§åˆ†æ** | ğŸ¯ ä¸­ | å¤§æ•°æ®å¤„ç† | é«˜ |

### ğŸ¯ é•¿æœŸæ„¿æ™¯ï¼ˆ6-12ä¸ªæœˆï¼‰

1. **ğŸŒ å…¨çƒå¤šåŒºåŸŸéƒ¨ç½²**
2. **ğŸ¤– æ™ºèƒ½è·¯ç”±ä¼˜åŒ–**
3. **ğŸ”§ å¯è§†åŒ–é…ç½®å¹³å°**

## ğŸ› ï¸ æŠ€æœ¯æ·±åº¦è§£æ

### ğŸ” æ ¸å¿ƒç®—æ³•åŸç†

#### ä¼ªæµå¼ä¼ è¾“ç®—æ³•

```javascript
function createPseudoStream(fullText, requestId, model) {
    // ğŸ¯ æ ¸å¿ƒé€»è¾‘ï¼šå°†å®Œæ•´æ–‡æœ¬åˆ†å—å‘é€
    for (let i = 0; i < fullText.length; i += chunkSize) {
        const contentChunk = fullText.substring(i, i + chunkSize);
        // ğŸ“¦ å°è£…ä¸º SSE æ ¼å¼
        const chunk = { ... };
        controller.enqueue(encoder.encode(`data: ${JSON.stringify(chunk)}\n\n`));
        // â° æ§åˆ¶æµé€Ÿï¼Œæ¨¡æ‹ŸçœŸå®æ‰“å­—æ•ˆæœ
        await new Promise(resolve => setTimeout(resolve, delay));
    }
}
```

**ç®—æ³•å¤æ‚åº¦ï¼š** O(n) - çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œæ€§èƒ½ä¼˜ç§€ ğŸš€

#### ç¼“å­˜ç­–ç•¥

```javascript
// ğŸ¯ ä½¿ç”¨ Cloudflare Cache API è¿›è¡Œè¾¹ç¼˜ç¼“å­˜
const cache = caches.default;
const cacheKey = new Request(request.url, request);
let response = await cache.match(cacheKey);

if (response) {
    // âœ… ç¼“å­˜å‘½ä¸­ï¼Œæé€Ÿå“åº”
    return response;
} else {
    // ğŸ”„ ç¼“å­˜æœªå‘½ä¸­ï¼Œè·å–æ•°æ®å¹¶ç¼“å­˜
    event.waitUntil(cache.put(cacheKey, response.clone()));
}
```

### ğŸ¨ é«˜çº§æŠ€æœ¯ç‰¹æ€§

#### 1. **HTTP/3 ä¼˜å…ˆç­–ç•¥**
```javascript
// âš¡ æç¤º Cloudflare ä¼˜å…ˆä½¿ç”¨ HTTP/3
cf: { http3: 'on' }
```
**æŠ€æœ¯æ¥æºï¼š** Cloudflare å®˜æ–¹æ–‡æ¡£ ğŸ“š

#### 2. **èƒŒå‹å¤„ç†æœºåˆ¶**
```javascript
// ğŸ¯ æ§åˆ¶æ•°æ®æµé€Ÿåº¦ï¼Œé˜²æ­¢å†…å­˜æº¢å‡º
const stream = new ReadableStream({
    async start(controller) {
        // åˆ†å—å¤„ç†ï¼Œæœ‰æ•ˆç®¡ç†å†…å­˜
    }
});
```

#### 3. **æ¸è¿›å¼ Web ç»„ä»¶**
```javascript
class LiveTerminal extends HTMLElement {
    // ğŸ¯ è‡ªå®šä¹‰ Web Componentsï¼Œæä¾›æ¨¡å—åŒ– UI
    connectedCallback() {
        // ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
    }
}
```

## ğŸ”® å¾…å®Œå–„åŠŸèƒ½

### ğŸš§ æŠ€æœ¯å€ºåŠ¡æ¸…å•

| åŠŸèƒ½æ¨¡å— | å½“å‰çŠ¶æ€ | æ”¹è¿›æ–¹æ¡ˆ | ä¼˜å…ˆçº§ |
|----------|----------|----------|--------|
| **é”™è¯¯å¤„ç†** | â­â­â˜†â˜†â˜† | ç»“æ„åŒ–é”™è¯¯ç  | â­â­â­â­â­ |
| **æ€§èƒ½ç›‘æ§** | â­â˜†â˜†â˜†â˜† | é›†æˆ Analytics | â­â­â­â­â˜† |
| **æµ‹è¯•è¦†ç›–** | â­â˜†â˜†â˜†â˜† | å•å…ƒæµ‹è¯• + E2E | â­â­â­â˜†â˜† |
| **æ–‡æ¡£å®Œå–„** | â­â­â­â˜†â˜† | äº¤äº’å¼æ–‡æ¡£ | â­â­â­â­â˜† |

### ğŸ¯ æŠ€æœ¯æ”¹è¿›è·¯å¾„

1. **ğŸ”§ é”™è¯¯å¤„ç†ä¼˜åŒ–**
   - å®ç°åˆ†çº§é”™è¯¯å¤„ç†æœºåˆ¶
   - æ·»åŠ é‡è¯•é€»è¾‘å’Œç†”æ–­å™¨æ¨¡å¼

2. **ğŸ“Š ç›‘æ§å’Œå¯è§‚æµ‹æ€§**
   - é›†æˆ Cloudflare Analytics
   - æ·»åŠ æ€§èƒ½æŒ‡æ ‡æ”¶é›†

3. **ğŸ›¡ï¸ å®‰å…¨æ€§å¢å¼º**
   - å®ç°é€Ÿç‡é™åˆ¶
   - æ·»åŠ è¯·æ±‚ç­¾åéªŒè¯

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ¯ å¦‚ä½•å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ğŸ‰

#### ğŸ› æŠ¥å‘Š Bug
1. åœ¨ GitHub Issues ä¸­åˆ›å»ºæ–° issue
2. æè¿°è¯¦ç»†çš„é‡ç°æ­¥éª¤
3. æä¾›ç›¸å…³æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯

#### ğŸ’¡ æå‡ºæ–°åŠŸèƒ½
1. æè¿°åŠŸèƒ½éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯
2. è®¨è®ºæŠ€æœ¯å®ç°æ–¹æ¡ˆ
3. æäº¤ Pull Request

#### ğŸ“š æ”¹è¿›æ–‡æ¡£
1. ä¿®æ­£æ‹¼å†™é”™è¯¯å’Œè¯­æ³•é—®é¢˜
2. æ·»åŠ ä½¿ç”¨ç¤ºä¾‹å’Œæ•™ç¨‹
3. ç¿»è¯‘ä¸ºå…¶ä»–è¯­è¨€

### ğŸ”§ å¼€å‘ç¯å¢ƒæ­å»º

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/lzA6/-askaiquestions-2apitocfwrok.git

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æœ¬åœ°å¼€å‘
wrangler dev

# 4. è¿è¡Œæµ‹è¯•
npm test
```

## ğŸ“„ å¼€æºåè®®

### Apache 2.0 å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **Apache License 2.0** å¼€æºåè®®ï¼Œè¿™æ„å‘³ç€ï¼š

#### âœ… ä½ å¯ä»¥ï¼š
- è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹è½¯ä»¶
- å°†è½¯ä»¶ç”¨äºå•†ä¸šç›®çš„
- åˆ†å‘è½¯ä»¶å‰¯æœ¬
- å¯¹è½¯ä»¶è¿›è¡Œå†æˆæƒ

#### ğŸ“ ä½ éœ€è¦ï¼š
- ä¿ç•™åŸå§‹ç‰ˆæƒå£°æ˜
- åœ¨ä¿®æ”¹çš„æ–‡ä»¶ä¸­æ·»åŠ å£°æ˜
- åŒ…å« NOTICE æ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰

#### âš ï¸ å…è´£å£°æ˜ï¼š
- è½¯ä»¶æŒ‰"åŸæ ·"æä¾›ï¼Œæ— ä»»ä½•æ‹…ä¿
- ä½œè€…ä¸æ‰¿æ‹…ä½¿ç”¨è½¯ä»¶äº§ç”Ÿçš„è´£ä»»

---

## ğŸ‰ ç»“è¯­

> **âœ¨ "æŠ€æœ¯ä¸åº”è¯¥åªæ˜¯å†°å†·çš„ä»£ç ï¼Œè€Œåº”è¯¥æ˜¯è¿æ¥äººä¸æ™ºèƒ½çš„æ¸©æš–æ¡¥æ¢"**

è¿™ä¸ªé¡¹ç›®ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯å®ç°ï¼Œæ›´æ˜¯æˆ‘ä»¬å¯¹**å¼€å‘è€…ä½“éªŒæè‡´è¿½æ±‚**çš„ä½“ç°ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œæ¯ä¸€ä¸ªä¼Ÿå¤§çš„æƒ³æ³•éƒ½å€¼å¾—è¢«ä¼˜é›…åœ°å®ç°ï¼Œæ¯ä¸€ä¸ªå¼€å‘è€…éƒ½å€¼å¾—æ‹¥æœ‰é¡ºæ»‘çš„å¼€å‘ä½“éªŒã€‚

**ğŸ¯ è®°ä½ï¼šä½ æ¥ï¼Œä½ ä¹Ÿè¡Œï¼** å¼€æºçš„ä¸–ç•Œæ¬¢è¿æ¯ä¸€ä¸ªæœ‰æƒ³æ³•çš„ä½ ï¼

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼** â­

[![Star History Chart](https://api.star-history.com/svg?repos=lzA6/-askaiquestions-2apitocfwrok&type=Date)](https://star-history.com/#lzA6/-askaiquestions-2apitocfwrok&Date)

**ğŸ’ æ”¯æŒæˆ‘ä»¬ç»§ç»­åˆ›é€ æ›´å¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼**

</div>

---

*ğŸ“… æœ€åæ›´æ–°: 2025å¹´11æœˆ10æ—¥ 04:22:59*  
*ğŸ‘¨â€ğŸ’» ç»´æŠ¤è€…: [æ‚¨çš„é¦–å¸­å¼€å‘è€…ä½“éªŒæ¶æ„å¸ˆ]*  
*ğŸ› é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/lzA6/-askaiquestions-2apitocfwrok/issues)*  
*ğŸ’¬ è®¨è®ºäº¤æµ: [GitHub Discussions](https://github.com/lzA6/-askaiquestions-2apitocfwrok/discussions)*

**ğŸš€ è®©æˆ‘ä»¬ä¸€èµ·æ„å»ºæ›´ç¾å¥½çš„å¼€å‘è€…ä½“éªŒï¼**
